{% extends 'bufe/base.html' %}

{% block title %}Hozz√°f√©r√©s megtagadva - B√ºf√©{% endblock %}
{% block meta_description %}Hozz√°f√©r√©s megtagadva{% endblock %}

{% block nav_items %}
<li><a href="{% url 'authentication:index' %}" class="nav-link">‚Üê NodeWS</a></li>
<li><a href="{% url 'authentication:logout' %}" class="nav-link">Kijelentkez√©s</a></li>
{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto;">
    <!-- Error Header -->
    <div class="card mb-lg">
        <div class="card-body text-center">
            <div style="font-size: 4rem; margin-bottom: var(--space-md);">üö´</div>
            <h1>Hozz√°f√©r√©s megtagadva</h1>
            <p class="text-muted">A B√ºf√© alkalmaz√°s csak enged√©lyezett domain-ekkel rendelkez≈ë felhaszn√°l√≥k sz√°m√°ra el√©rhet≈ë</p>
        </div>
    </div>

    <!-- Problem Card -->
    <div class="card mb-lg">
        <div class="card-header">
            <h3 style="margin: 0;">‚ùå Probl√©ma</h3>
        </div>
        <div class="card-body">
            <div style="display: flex; flex-direction: column; gap: var(--space-md);">
                <div>
                    <div style="font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-xs);">Az √ñn e-mail c√≠me</div>
                    <div style="font-size: 1.125rem; color: var(--gray-700);">{{ user_email }}</div>
                </div>
                <div>
                    <div style="font-weight: 600; color: var(--gray-900); margin-bottom: var(--space-xs);">Jelenlegi domain</div>
                    <div style="font-size: 1.125rem; color: var(--error); font-weight: 600;">@{{ user_domain }}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Allowed Domains Card -->
    <div class="card mb-lg">
        <div class="card-header">
            <h3 style="margin: 0;">‚úÖ Enged√©lyezett domain-ek</h3>
        </div>
        <div class="card-body">
            <ul style="list-style: none; padding: 0; margin: 0; display: flex; flex-direction: column; gap: var(--space-sm);">
                {% for domain in allowed_domains %}
                <li style="padding: var(--space-md); background: var(--success-light); border-radius: var(--radius-md); font-size: 1.0625rem; font-weight: 600; color: var(--success);">
                    @{{ domain }}
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>

    <!-- Solution Card -->
    <div class="alert alert-info">
        <span style="font-size: 1.5rem;">üí°</span>
        <div>
            <strong>Megold√°s:</strong>
            <br>
            A B√ºf√© alkalmaz√°s haszn√°lat√°hoz az al√°bbi e-mail domain-ek egyik√©vel kell rendelkeznie:
            <ul style="margin: var(--space-sm) 0; padding-left: var(--space-lg);">
                <li><strong>@szlgbp.hu</strong> - K≈ëb√°nyai Szent L√°szl√≥ Gimn√°zium</li>
                <li><strong>@botond.eu</strong> - Tesztel√©si domain</li>
            </ul>
            <small>K√©rj√ºk, jelentkezzen be egy enged√©lyezett e-mail c√≠mmel, vagy forduljon a rendszer adminisztr√°tor√°hoz.</small>
        </div>
    </div>

    <!-- Actions -->
    <div style="display: flex; gap: var(--space-md); justify-content: center; flex-wrap: wrap; margin-top: var(--space-xl);">
        <a href="{% url 'authentication:logout' %}" class="btn btn-outline">Kijelentkez√©s</a>
        <a href="{% url 'authentication:index' %}" class="btn btn-primary">Vissza a f≈ëoldalra</a>
    </div>
</div>
{% endblock %}
